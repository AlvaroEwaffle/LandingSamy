---
interface Props {
  title?: string;
  description?: string;
}

const { 
  title = "Tú también podrías estar a punto de vivirlo", 
  description = "Podría contarte mil cosas sobre lo que estoy preparando para ti… Pero prefiero que lo escuches de quienes ya lo vivieron desde adentro. Mujeres que se permitieron vivir una experiencia distinta… Y que hoy recuerdan no solo lo que aprendieron, sino cómo se sintieron…" 
} = Astro.props;

const testimonials = [
  {
    id: 1,
    videoId: "1107562023",
    name: "Vianca Álvarez",
    quote: "Nos ahorró muchos años de tropiezos."
  },
  {
    id: 2,
    videoId: "1107562660", 
    name: "Frelly Figueroa",
    quote: "Sentía que me faltaba algo.. y ese algo lo tenía Samy."
  },
  {
    id: 3,
    videoId: "1107562994",
    name: "Cecilia Olivares",
    quote: "En todos los cursos que he tomado con Samy , siempre hay algo nuevo."
  }
];
---

<section id="testimonios" class="py-20  relative">
  <!-- Background Image -->
  <div class="absolute inset-0 bg-cover bg-center bg-no-repeat" style="background-image: url('/assets/backgrounds/BackgroundTestimonios.png');"></div>

  
  <!-- Content -->
  <div class="relative z-10">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6">
        {title}
      </h2>
      <p class="text-xl text-white/80 max-w-4xl mx-auto leading-relaxed">
        {description}
      </p>
    </div>

    <!-- Testimonials Grid -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
      {testimonials.map((testimonial, index) => (
        <div 
          class="group relative bg-black border-2 border-primary/50 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden"
          data-testimonial-id={testimonial.id}
        >
          <!-- Video Container -->
          <div class="relative  bg-black overflow-hidden" style="padding:125% 0 0 0;position:relative;">
            
            <!-- Video Player -->
            <iframe
              src={`https://player.vimeo.com/video/${testimonial.videoId}?h=${index === 0 ? 'f139481ec9' : index === 1 ? '92b7f8db5d' : 'da708acf8c'}&badge=0&autopause=0&player_id=0&app_id=58479&autoplay=${index === 0 ? '1' : '0'}&muted=${index === 0 ? '1' : '0'}`}
              class="w-full h-full object-cover relative z-10"
              style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:auto;"
              frameborder="0"
              allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share"
              referrerpolicy="strict-origin-when-cross-origin"
              title={`Testimonio ${index + 1} - ${testimonial.name}`}
            ></iframe>
            
          </div>
          
          <!-- Content -->
          <div class="p-6">
            <div class="flex items-start space-x-4">
              
              <!-- Text Content -->
              <div class="flex-1">
                <h3 class="font-semibold text-white mb-1">
                  {testimonial.name}
                </h3>
                <p class="text-white/80 leading-relaxed italic">
                  "{testimonial.quote}"
                </p>
              </div>
            </div>
          </div>
          
          <!-- Hover Effect Border -->
          <div class="absolute inset-0 border-2 border-transparent group-hover:border-primary/20 rounded-2xl transition-all duration-300 pointer-events-none"></div>
        </div>
      ))}
    </div>

    <!-- Call to Action -->
    <div class="text-center">
      <div class="bg-white rounded-2xl p-8 shadow-lg border border-gray-100 max-w-2xl mx-auto">
        <h3 class="text-2xl font-bold text-text-dark mb-4">
          ¿Lista para transformar tu contenido?
        </h3>
        <p class="text-text-light mb-6">
          Únete a estas profesionales que ya transformaron su presencia digital con el método SAMY.
        </p>
        <a 
          href="#planes" 
          class="inline-flex items-center justify-center px-8 py-4 bg-primary text-white rounded-full font-semibold text-lg hover:bg-red-dark transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1"
        >
          Quiero ser la siguiente
          <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
          </svg>
        </a>
      </div>
    </div>
  </div>
</section>

<style>
  /* Custom animations for testimonials */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .group {
    animation: fadeInUp 0.6s ease-out forwards;
  }
  
  .group:nth-child(1) { animation-delay: 0.1s; }
  .group:nth-child(2) { animation-delay: 0.2s; }
  .group:nth-child(3) { animation-delay: 0.3s; }
  
  /* Smooth hover transitions */
  .group:hover .progress-bar {
    width: 66.666667%;
  }
</style> 