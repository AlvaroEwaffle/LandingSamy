---
interface FAQItem {
  question: string;
  answer: string;
}

const faqs: FAQItem[] = [
  {
    question: "¬øCu√°nto dura el programa completo?",
    answer: "El programa completo tiene 20 m√≥dulos con 90+ lecciones. Puedes completarlo a tu ritmo, pero la mayor√≠a de estudiantes lo terminan en 3-6 meses dedicando 1-2 horas diarias."
  },
  {
    question: "¬øQu√© m√©todos de pago aceptan?",
    answer: "Aceptamos tarjetas de cr√©dito/d√©bito, transferencias bancarias y PayPal. Tambi√©n ofrecemos planes de pago mensual sin intereses."
  },
  {
    question: "¬øNecesito experiencia previa en redes sociales?",
    answer: "No, el programa est√° dise√±ado para principiantes. Te ense√±amos desde cero, desde crear tu primera cuenta hasta monetizar tu contenido."
  },
  {
    question: "¬øPuedo acceder al contenido desde cualquier dispositivo?",
    answer: "S√≠, nuestra plataforma es responsive y puedes acceder desde tu computadora, tablet o smartphone las 24 horas del d√≠a."
  },
  {
    question: "¬øQu√© pasa si no estoy satisfecho con el programa?",
    answer: "Ofrecemos garant√≠a de 7 d√≠as, 100% satisfacci√≥n. Si no est√°s contento, te devolvemos tu dinero sin preguntas."
  },
  {
    question: "¬øC√≥mo funciona la comunidad de WhatsApp?",
    answer: "Solo disponible en el plan 'Todo o Nada'. Tendr√°s acceso a un grupo exclusivo donde podr√°s hacer preguntas, compartir experiencias y conectar con otros creadores."
  }
];
---

<section class="py-8 bg-black relative overflow-hidden overflow-x-hidden w-full max-w-full pt-8" style="background: url('/assets/backgrounds/FAQ.png') top / cover no-repeat" >
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="text-center mb-12">
      <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-4">
        Garant√≠a Total y Preguntas Frecuentes
      </h2>
      <div class="w-24 h-1 bg-secondary mx-auto"></div>
    </div>

    <!-- Guarantee Section -->
    <div class="max-w-4xl mx-auto mb-16">
      <div class="fade-in card-hover bg-accent rounded-2xl p-8 text-center border-2 border-secondary/20">
        <div class="text-6xl mb-4">üõ°Ô∏è</div>
        <h3 class="text-2xl font-bold text-primary mb-4">
          Garant√≠a 7 d√≠as, 100% satisfacci√≥n
        </h3>
        <p class="text-lg text-black">
          Sin preguntas. Si no est√°s completamente satisfecho con el programa, te devolvemos tu dinero.
        </p>
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="max-w-4xl mx-auto">
      <h3 class="text-2xl font-bold text-white text-center mb-8">
        Preguntas frecuentes
      </h3>
      <div class="grid gap-1" id="faq-accordion">
        {
          faqs.map((faq, idx) => (
            <div class="fade-in card-hover bg-black rounded-lg shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300">
              <button type="button" class="w-full text-left p-6 flex items-start focus:outline-none" aria-expanded="false" data-idx={idx}>
                <div class="flex-shrink-0 mt-0">
                  <div class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center">
                    <span class="text-white text-xl">‚ùì</span>
                  </div>
                </div>
                <div class="ml-4">
                  <h4 class="text-xl font-semibold text-white mb-0">
                    {faq.question}
                  </h4>
                </div>
              </button>
              <div class="faq-answer faq-answer-transition px-6 pb-6" id={`faq-answer-${idx}`}> 
                <p class="text-white leading-relaxed">
                  {faq.answer}
                </p>
              </div>
            </div>
          ))
        }
      </div>
    </div>

    <!-- Final CTA -->
    <div class="text-center mt-12">
      <a 
        href="#planes" 
        class="inline-flex items-center justify-center px-8 py-4 bg-secondary text-white rounded-full font-semibold text-lg hover:bg-secondary/90 transition-colors duration-300 shadow-lg hover:shadow-xl"
      >
        Inscribirme ahora ‚Äì ¬°Empieza en menos de 3 min!
      </a>
    </div>
  </div>
</section>

<script>
  const faqAccordion = document.getElementById('faq-accordion');
  if (faqAccordion) {
    faqAccordion.addEventListener('click', function(e) {
      const target = e.target;
      if (!(target instanceof HTMLElement)) return;
      const btn = target.closest('button[data-idx]');
      if (!btn) return;
      const idx = btn.getAttribute('data-idx');
      // Close all answers
      faqAccordion.querySelectorAll('.faq-answer').forEach(el => el.classList.remove('open'));
      faqAccordion.querySelectorAll('button[data-idx]').forEach(el => el.setAttribute('aria-expanded', 'false'));
      // Open the clicked one
      const answer = document.getElementById(`faq-answer-${idx}`);
      if (answer) {
        answer.classList.add('open');
        btn.setAttribute('aria-expanded', 'true');
      }
    });
  }
</script>

<style>
  .faq-answer-transition {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    pointer-events: none;
    transition: max-height 0.4s cubic-bezier(0.4,0,0.2,1), opacity 0.3s cubic-bezier(0.4,0,0.2,1);
  }
  .faq-answer-transition.open {
    max-height: 500px;
    opacity: 1;
    pointer-events: auto;
  }
  .container {
    max-width: 1200px;
    margin: 0 auto;
  }
</style> 