---
interface Props {
  title?: string;
  subtitle?: string;
}

const { 
  title = "El primer evento en Chile que transforma", 
  subtitle = "cómo grabas tu trabajo en camilla." 
} = Astro.props;

const carouselImages = [
  "/assets/Carrusel/Landing page Samy (6).png",
  "/assets/Carrusel/Landing page Samy (7).png",
  "/assets/Carrusel/Landing page Samy (8).png",
  "/assets/Carrusel/Landing page Samy (9).png",
  "/assets/Carrusel/Landing page Samy (10).png",
  "/assets/Carrusel/Landing page Samy (11).png",
  "/assets/Carrusel/Landing page Samy (12).png",
  "/assets/Carrusel/Landing page Samy (13).png"
];
---

<!-- Fixed Countdown Banner -->
<div class="fixed top-0 left-0 w-full bg-primary/90 backdrop-blur-sm z-50">
  <div class="flex items-center justify-center px-4 py-3 text-white font-semibold">
    <span class="mr-2">⚡</span>
    <span class="mr-4">Sólo por hoy 15 de Septiembre Oferta Flash</span>
    <div id="countdown" class="flex items-center space-x-2">
      <div class="bg-white/20 rounded px-2 py-1 text-sm">
        <span id="days">00</span>
        <span class="text-xs">días</span>
      </div>
      <div class="bg-white/20 rounded px-2 py-1 text-sm">
        <span id="hours">00</span>
        <span class="text-xs">hrs</span>
      </div>
      <div class="bg-white/20 rounded px-2 py-1 text-sm">
        <span id="minutes">00</span>
        <span class="text-xs">min</span>
      </div>
      <div class="bg-white/20 rounded px-2 py-1 text-sm">
        <span id="seconds">00</span>
        <span class="text-xs">seg</span>
      </div>
    </div>
  </div>
</div>

<!-- Desktop Version -->
<section class="relative min-h-screen flex items-center justify-center bg-black overflow-x-hidden   hidden md:flex">
  <!-- Background Video - Desktop Only -->
  <div class="absolute inset-0 w-full h-full">
    <iframe
      src="https://www.youtube.com/embed/FT44flR8_QI?autoplay=1&mute=1&loop=1&playlist=FT44flR8_QI&controls=0&showinfo=0&rel=0&modestbranding=1&playsinline=1&disablekb=1&fs=0&iv_load_policy=3&cc_load_policy=0&color=white&theme=dark"
      class="w-full h-full object-cover pointer-events-none"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>
    <!-- Transparent overlay to prevent clicks -->
    <div class="absolute inset-0 bg-transparent pointer-events-auto"></div>
  </div>
  
  <!-- Dark overlay for text readability -->
  <div class="absolute inset-0 "></div>

  <div class="relative z-30 w-full px-4 sm:px-6 lg:px-8">

    <!-- Main Content -->
    <div class="text-center max-w-6xl mx-auto">
      <!-- Main Title -->
      <h1 class="text-5xl md:text-5xl lg:text-5xl font-bold mb-4 text-white leading-tight pt-16">
        {title}
      </h1>

      <!-- Subtitle in Red -->
      <h2 class="text-4xl md:text-3xl lg:text-3xl font-bold mb-8 text-primary leading-tight">
        {subtitle}
      </h2>

      <!-- SAMY Logo -->
      <div class="flex justify-center mb-8">
        <img 
          src="/assets/Logo.png" 
          alt="SAMY Studio Logo" 
          class="w-32 h-auto object-contain"
        />
      </div>

      <!-- Description -->
      <p class="text-white/90 text-lg md:text-xl leading-relaxed max-w-3xl mx-auto mb-12">
        Una experiencia exclusiva para artistas de la belleza que buscan crear mejor contenido visual para su negocio. Aprendé a grabar y editar tus videos con una metodología clara y fácil de aplicar, usando sólo tu celular, un par de luces y un trípode.
      </p>

    </div>
  </div>
</section>

<!-- Mobile Version -->
<section class="relative min-h-screen flex items-center justify-center overflow-hidden pt-16 pb-20 md:hidden">
  <!-- Contenedor del video -->
  <div class="absolute inset-0 overflow-hidden">
    <iframe
      src="https://www.youtube.com/embed/_nSj3EiYoQE?autoplay=1&mute=1&loop=1&playlist=_nSj3EiYoQE&controls=0&showinfo=0&rel=0&modestbranding=1&playsinline=1&disablekb=1&fs=0&iv_load_policy=3&cc_load_policy=0&color=white&theme=dark"
      class="absolute top-1/2 left-1/2 w-[110vw] h-[110vh] -translate-x-1/2 -translate-y-1/2 object-cover"
      style="pointer-events:none"
      frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    ></iframe>
  </div>

  <!-- Overlay oscuro -->
  <div class="absolute inset-0 "></div>

  <!-- Contenido -->
  <div class="relative z-10 px-6 text-center text-white">
    <h1 class="text-4xl font-bold mb-4">{title}</h1>
    <h2 class="text-3xl text-primary font-bold mb-8">{subtitle}</h2>
    
    <!-- SAMY Logo -->
    <div class="flex justify-center mb-8">
      <img 
        src="/assets/Logo.png" 
        alt="SAMY Studio Logo" 
        class="w-24 h-auto object-contain"
      />
    </div>
    
    <p class="max-w-2xl mx-auto mb-8 text-center">
      Una experiencia exclusiva para artistas de la belleza que buscan crear mejor contenido visual para su negocio. Aprendé a grabar y editar tus videos con una metodología clara y fácil de aplicar, usando sólo tu celular, un par de luces y un trípode.
    </p>
  </div>
</section>

<!-- S2 Image Carousel Section -->
<section class="relative w-full bg-black py-8">
  <!-- Powerful Quote -->
  <div class="text-center mb-8">
    <h2 class="text-2xl md:text-3xl font-bold text-white px-4">
      Ya no se trata solo de tener una buena técnica, necesitas saber <span class="text-primary">cómo mostrarla</span>.
    </h2>
  </div>
  
  <!-- Carousel Container -->
  <div class="relative overflow-hidden">
      <div class="flex animate-scroll-carousel" id="carousel">
        {/* Original images */}
        {carouselImages.map((image, index) => (
          <div class="w-1/3 flex-shrink-0">
            <img src={image} alt={`Carousel image ${index + 1}`} class="w-full h-64 object-cover" />
          </div>
        ))}
        {/* Duplicate images for seamless loop */}
        {carouselImages.map((image, index) => (
          <div class="w-1/3 flex-shrink-0">
            <img src={image} alt={`Carousel image ${index + 1}`} class="w-full h-64 object-cover" />
          </div>
        ))}
      </div>
    </div>
</section>



<style>
  @keyframes scroll-banner {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
  
  .animate-scroll-banner {
    animation: scroll-banner 20s linear infinite;
  }
  
  @keyframes scroll-carousel {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
  
  .animate-scroll-carousel {
    animation: scroll-carousel 20s linear infinite;
  }
</style>

<script>
  // Countdown to September 15, 2025 at 23:59
  function updateCountdown() {
    const targetDate = new Date('2025-09-15T23:59:59').getTime();
    const now = new Date().getTime();
    const timeLeft = targetDate - now;

    console.log('Target date:', new Date(targetDate));
    console.log('Current date:', new Date(now));
    console.log('Time left (ms):', timeLeft);

    if (timeLeft > 0) {
      const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
      const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

      const daysEl = document.getElementById('days');
      const hoursEl = document.getElementById('hours');
      const minutesEl = document.getElementById('minutes');
      const secondsEl = document.getElementById('seconds');
      
      if (daysEl) daysEl.textContent = days.toString().padStart(2, '0');
      if (hoursEl) hoursEl.textContent = hours.toString().padStart(2, '0');
      if (minutesEl) minutesEl.textContent = minutes.toString().padStart(2, '0');
      if (secondsEl) secondsEl.textContent = seconds.toString().padStart(2, '0');
    } else {
      const countdownEl = document.getElementById('countdown');
      if (countdownEl) {
        countdownEl.innerHTML = '<span class="text-red-300 font-bold">¡EVENTO CERRADO!</span>';
      }
    }
  }

  // Update countdown every second
  updateCountdown();
  setInterval(updateCountdown, 1000);
</script>